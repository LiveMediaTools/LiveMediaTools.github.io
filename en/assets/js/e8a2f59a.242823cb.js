"use strict";(self.webpackChunkyourcmds_docs=self.webpackChunkyourcmds_docs||[]).push([[508],{5680:(e,a,n)=>{n.d(a,{xA:()=>m,yg:()=>g});var r=n(6540);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,r,t=function(e,a){if(null==e)return{};var n,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var s=r.createContext({}),c=function(e){var a=r.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},m=function(e){var a=c(e.components);return r.createElement(s.Provider,{value:a},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},u=r.forwardRef((function(e,a){var n=e.components,t=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=c(n),u=t,g=d["".concat(s,".").concat(u)]||d[u]||p[u]||o;return n?r.createElement(g,i(i({ref:a},m),{},{components:n})):r.createElement(g,i({ref:a},m))}));function g(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[d]="string"==typeof e?e:t,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4001:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>f,contentTitle:()=>y,default:()=>w,frontMatter:()=>g,metadata:()=>h,toc:()=>v});var r=n(5680),t=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,m=(e,a,n)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,d=(e,a)=>{for(var n in a||(a={}))s.call(a,n)&&m(e,n,a[n]);if(l)for(var n of l(a))c.call(a,n)&&m(e,n,a[n]);return e},p=(e,a)=>o(e,i(a)),u=(e,a)=>{var n={};for(var r in e)s.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))a.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n};const g={},y="Docker",h={unversionedId:"docker/readme",id:"docker/readme",title:"Docker",description:"1\u3001Basic Commands",source:"@site/docs/docker/readme.mdx",sourceDirName:"docker",slug:"/docker/",permalink:"/en/docker/",draft:!1,editUrl:"https://github.com/LiveMediaTools/LiveMediaTools.github.io/edit/main/docs/docker/readme.mdx",tags:[],version:"current",lastUpdatedAt:1728746040,formattedLastUpdatedAt:"Oct 12, 2024",frontMatter:{},sidebar:"docker"},f={},v=[{value:"1\u3001Basic Commands",id:"1basic-commands",level:2},{value:"1.1\u3001Pull Docker Images",id:"11pull-docker-images",level:3},{value:"1.2\u3001Run Docker",id:"12run-docker",level:3},{value:"Parameter Explanation",id:"parameter-explanation",level:4},{value:"1.3\u3001View all Docker instances",id:"13view-all-docker-instances",level:3},{value:"Parameter Explanation",id:"parameter-explanation-1",level:4},{value:"1.4\u3001Enter the Docker container",id:"14enter-the-docker-container",level:3},{value:"1.5\u3001View Docker Images",id:"15view-docker-images",level:3},{value:"1.6\u3001Clean Docker Images",id:"16clean-docker-images",level:3},{value:"1.6.1\u3001Remove Unused Images",id:"161remove-unused-images",level:4},{value:"1.6.2\u3001Forcefully remove unused Images",id:"162forcefully-remove-unused-images",level:4},{value:"1.6.3\u3001Remove a Specific Image",id:"163remove-a-specific-image",level:4},{value:"2\u3001Advanced Commands",id:"2advanced-commands",level:2},{value:"2.1\u3001Pull And Run Image",id:"21pull-and-run-image",level:3},{value:"Parameter Explanation",id:"parameter-explanation-2",level:4}],k={toc:v},b="wrapper";function w(e){var a=e,{components:n}=a,t=u(a,["components"]);return(0,r.yg)(b,p(d(d({},k),t),{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",d({},{id:"docker"}),"Docker"),(0,r.yg)("h2",d({},{id:"1basic-commands"}),"1\u3001Basic Commands"),(0,r.yg)("h3",d({},{id:"11pull-docker-images"}),"1.1\u3001Pull Docker Images"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker pull docker.io/library/centos:7.9.2009\n")),(0,r.yg)("h3",d({},{id:"12run-docker"}),"1.2\u3001Run Docker"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker run -it  docker.io/library/centos:7.9.2009 /bin/bash \n")),(0,r.yg)("h4",d({},{id:"parameter-explanation"}),"Parameter Explanation"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"-it allocates a pseudo-terminal and keeps the standard input open, suitable for interactive operations."),(0,r.yg)("li",{parentName:"ul"},"/bin/bash  is the command to run after the container starts, which opens a Bash terminal.")),(0,r.yg)("h3",d({},{id:"13view-all-docker-instances"}),"1.3\u3001View all Docker instances"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker ps -a\n")),(0,r.yg)("h4",d({},{id:"parameter-explanation-1"}),"Parameter Explanation"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},'-a lists all containers, including stopped ones. If -a is not added, only running ones are displayed."')),(0,r.yg)("h3",d({},{id:"14enter-the-docker-container"}),"1.4\u3001Enter the Docker container"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker  exec -it <container ID or name> /bin/bash\n")),(0,r.yg)("h3",d({},{id:"15view-docker-images"}),"1.5\u3001View Docker Images"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker images\n")),(0,r.yg)("h3",d({},{id:"16clean-docker-images"}),"1.6\u3001Clean Docker Images"),(0,r.yg)("h4",d({},{id:"161remove-unused-images"}),"1.6.1\u3001Remove Unused Images"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker image prune\n")),(0,r.yg)("h4",d({},{id:"162forcefully-remove-unused-images"}),"1.6.2\u3001Forcefully remove unused Images"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker image prune -a\n")),(0,r.yg)("p",null,"This will delete all images not used by any containers, including dangling images."),(0,r.yg)("h4",d({},{id:"163remove-a-specific-image"}),"1.6.3\u3001Remove a Specific Image"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),"docker rmi <image_id_or_name>\n")),(0,r.yg)("h2",d({},{id:"2advanced-commands"}),"2\u3001Advanced Commands"),(0,r.yg)("h3",d({},{id:"21pull-and-run-image"}),"2.1\u3001Pull And Run Image"),(0,r.yg)("pre",null,(0,r.yg)("code",d({parentName:"pre"},{className:"language-shell"}),'docker run --cap-add=SYS_PTRACE -d -it --net=bridge --name centos7 --privileged=true -w /youcmds/workspace -e "PKG_CONFIG_PATH=/usr/local/lib/pkgconfig/" -e "LD_LIBRARY_PATH=/usr/local/lib64:/usr/local/lib:/usr/lib64:/usr/lib:/lib64:/lib" -p 1935-2935:1935-2935 -v /Users/yourcmds/workspace:/youcmds/workspace docker.io/library/centos:7.9.2009 /bin/bash \n')),(0,r.yg)("h4",d({},{id:"parameter-explanation-2"}),"Parameter Explanation"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"--cap-add parameter can be used to add different permissions to a Docker container, including:"),(0,r.yg)("p",{parentName:"li"},"  NET_ADMIN\uff1aAllows the container to have network management capabilities. This means the container can perform network configuration tasks, such as changing interface settings, adding, or deleting routes, etc. It grants the container greater control over network settings, suitable for applications that need to manage network configurations."),(0,r.yg)("p",{parentName:"li"},"  SYS_ADMIN\uff1aAdds system administrator permissions, allowing processes within the container to perform system-level management operations, such as mounting file systems, setting the time, modifying the hostname, etc.  "),(0,r.yg)("p",{parentName:"li"},"  SYS_PTRACE\uff1a Adds system tracing permissions, allowing processes within the container to use the ptrace system call for debugging and monitoring other processes."),(0,r.yg)("p",{parentName:"li"},"  SYS_CHROOT\uff1aAdds permission to change the root directory, allowing processes within the container to use the chroot system call to create a new root filesystem environment in a specified directory."),(0,r.yg)("p",{parentName:"li"},"  SYS_MODULE\uff1aAdds module loading/unloading permissions, allowing processes within the container to load and unload kernel modules."),(0,r.yg)("p",{parentName:"li"},"  SYS_RAWIO\uff1aAdds raw I/O permissions, allowing processes within the container to perform raw read and write operations on devices, bypassing the filesystem abstraction provided by the operating system."),(0,r.yg)("p",{parentName:"li"},"  SYS_TIME\uff1aAdds time management permissions, allowing processes within the container to modify the system time.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"--net option sets the Docker network mode, with commonly used network modes including:"),(0,r.yg)("p",{parentName:"li"},"  bridge\uff1a The default mode, where Docker creates a virtual bridge, allowing containers to connect to the host's network through this bridge. This is suitable for most common scenarios."),(0,r.yg)("p",{parentName:"li"},"  host\uff1aThe container uses the host's network stack directly, which is suitable for applications that have high network performance requirements but sacrifices network isolation between containers."),(0,r.yg)("p",{parentName:"li"},"  none\uff1aNo network is connected, suitable for scenarios requiring complete isolation."),(0,r.yg)("p",{parentName:"li"},"  container\uff1aThis mode allows a new container to share the network stack of an existing container, meaning they share the same IP address and ports."),(0,r.yg)("p",{parentName:"li"},"  overlay\uff1aUsed in cluster environments across multiple Docker hosts (such as Docker Swarm or Kubernetes), allowing containers to communicate between different hosts.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"-d\uff1aRun the container in detached mode.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"--name centos7\uff1aSpecify a name for the container (centos7).")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"-w /youcmds/workspace\uff1aSet the working directory in the container.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"-e Set environment variables.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"-p 1935-2935:1935-2935\uff1aMap the host's port range 1935-2935 to the same port range in the container.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"-v /Users/yourcmds/workspace:/youcmds/workspace\uff1aMount a host directory to the specified path in the container to enable file sharing.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"docker.io/library/centos:7.9.2009\uff1a Image pull address."))))}w.isMDXComponent=!0}}]);